import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useParams, useNavigate } from "react-router-dom";
import { useEffect, useState } from "react";
import { getTurfById } from "../../engine/ownerEngine";
import { ChevronLeft } from "lucide-react";
export default function OwnerTurfManage() {
    const { turfId } = useParams();
    const nav = useNavigate();
    const [turf, setTurf] = useState(null);
    const [activeImage, setActiveImage] = useState(0);
    useEffect(() => {
        getTurfById(Number(turfId)).then(r => setTurf(r.data));
    }, [turfId]);
    if (!turf)
        return (_jsx("div", { className: "p-6 text-text-secondary text-sm font-medium", children: "Loading turf\u2026" }));
    const images = turf.images || [];
    return (_jsxs("div", { className: "space-y-0", children: [_jsx("div", { className: "bg-neutral-surface border-b border-neutral-border lg:border-t-0 border-t sticky top-0 z-20 lg:static", children: _jsxs("div", { className: "w-full max-w-7xl mx-auto px-4 lg:px-6 py-4 flex items-center gap-3", children: [_jsx("button", { onClick: () => nav(-1), className: "p-2 -ml-2 rounded-xl hover:bg-neutral-hover transition-all duration-200 active:scale-95", children: _jsx(ChevronLeft, { size: 20, className: "text-text-primary" }) }), _jsx("h1", { className: "text-page-title font-semibold text-text-primary", children: "Manage Turf" })] }) }), _jsxs("div", { className: "w-full max-w-7xl mx-auto p-4 lg:p-6 space-y-6", children: [_jsxs("div", { className: "bg-neutral-surface border border-neutral-border rounded-2xl p-6 shadow-card", children: [_jsx("h1", { className: "text-xl font-semibold text-text-primary mb-2", children: turf.name }), _jsxs("p", { className: "text-sm text-text-secondary font-medium", children: [turf.locality, ", ", turf.city] }), _jsxs("div", { className: "mt-6 flex gap-3", children: [_jsx("span", { className: `px-3 py-1.5 text-xs font-semibold rounded-full border ${turf.available
                                            ? "bg-green-50 text-success border-green-200"
                                            : "bg-red-50 text-danger border-red-200"}`, children: turf.available ? "LIVE" : "HIDDEN" }), _jsx("span", { className: "text-xs font-semibold px-3 py-1.5 rounded-full border border-neutral-border bg-neutral-bg text-text-primary", children: turf.turfType })] })] }), _jsxs("div", { className: "bg-neutral-surface border border-neutral-border rounded-2xl p-5 flex flex-wrap gap-3 shadow-card", children: [_jsx("button", { onClick: () => nav(`/app/owner/turfs/${turf.id}/edit`), className: "border border-neutral-border bg-neutral-surface text-text-primary px-5 py-3 rounded-xl text-sm font-medium hover:bg-neutral-hover hover:border-stone-300 transition-all duration-200 active:scale-[0.98]", children: "Edit Details" }), _jsx("button", { onClick: () => nav(`/app/owner/turfs/${turf.id}/images`), className: "border border-neutral-border bg-neutral-surface text-text-primary px-5 py-3 rounded-xl text-sm font-medium hover:bg-neutral-hover hover:border-stone-300 transition-all duration-200 active:scale-[0.98]", children: "Manage Photos" }), _jsx("button", { onClick: () => nav(`/app/owner/turfs/${turf.id}/schedule`), className: "border border-neutral-border bg-neutral-surface text-text-primary px-5 py-3 rounded-xl text-sm font-medium hover:bg-neutral-hover hover:border-stone-300 transition-all duration-200 active:scale-[0.98]", children: "Set Schedule" }), _jsx("button", { onClick: () => nav(`/app/owner/turfs/${turf.id}/slots`), className: "border border-neutral-border bg-neutral-surface text-text-primary px-5 py-3 rounded-xl text-sm font-medium hover:bg-neutral-hover hover:border-stone-300 transition-all duration-200 active:scale-[0.98]", children: "Manage Slots" })] }), _jsxs("div", { className: "bg-neutral-surface border border-neutral-border rounded-2xl p-6 space-y-5 shadow-card", children: [_jsx("h3", { className: "text-sm font-semibold tracking-tight text-text-primary", children: "Description" }), _jsx("p", { className: "text-sm text-text-secondary leading-relaxed font-medium", children: turf.description }), _jsxs("div", { className: "grid grid-cols-1 md:grid-cols-2 gap-5 pt-2", children: [_jsxs("div", { children: [_jsx("div", { className: "text-xs text-text-muted font-semibold mb-2 uppercase tracking-wide", children: "Amenities" }), _jsx("div", { className: "text-sm text-text-primary font-medium", children: turf.amenities })] }), _jsxs("div", { children: [_jsx("div", { className: "text-xs text-text-muted font-semibold mb-2 uppercase tracking-wide", children: "Address" }), _jsx("div", { className: "text-sm text-text-primary font-medium", children: turf.address })] })] }), _jsx("a", { href: turf.mapUrl, target: "_blank", className: "inline-block mt-4 text-primary text-sm font-semibold hover:text-primary-hover transition-colors duration-200", children: "Open in Google Maps \u2192" })] }), _jsxs("div", { className: "bg-neutral-surface border border-neutral-border rounded-2xl p-6 space-y-5 shadow-card", children: [_jsx("h3", { className: "text-sm font-semibold tracking-tight text-text-primary", children: "Photos" }), images.length > 0 && (_jsxs(_Fragment, { children: [_jsx("img", { src: `${images[activeImage].url}`, className: "w-full h-80 object-cover rounded-xl border border-neutral-border" }), _jsx("div", { className: "flex gap-3 overflow-x-auto pb-2", children: images.map((img, i) => (_jsx("img", { onClick: () => setActiveImage(i), src: `${img.url}`, className: `h-20 w-28 object-cover rounded-xl border cursor-pointer transition-all duration-200 flex-shrink-0 ${i === activeImage
                                                ? "ring-2 ring-primary border-primary"
                                                : "border-neutral-border opacity-60 hover:opacity-100"}` }, img.id))) })] })), images.length === 0 && (_jsx("p", { className: "text-sm text-text-muted font-medium", children: "No photos uploaded yet." }))] })] })] }));
}
